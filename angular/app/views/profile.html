<script>
    $("#file-3").fileinput({
        'allowedFileExtensions' : ['jpg', 'png','gif'],
        showUpload: false,
        showCaption: false,
        browseClass: "btn btn-primary btn-sm",
        /*fileType: "any",*/
        previewFileIcon: "<i class='glyphicon glyphicon-king'></i>"
    });
</script>
<!-- html -->
<div class="container">
    <div class="row">
        <div id="user" class="col-md-6">
            <img ng-src="{{user.img}}" class="img-responsive center-block" style="margin-top: 10px; padding:20px">
            <p class="text-center">{{user.id}}</p>
        </div>
        <div class="col-md-6" style="margin-top: 10px;">
            <form method="post" class="form center-block">
                <div class="form-group input-group">
                    <span class="input-group-addon">
                      <span class="glyphicon glyphicon-lock"></span>
                    </span>
                    <input ng-model="pw.prev_pw" type="password" class="form-control" placeholder="이전 암호">
                </div>
                <div class="form-group input-group">
                    <span class="input-group-addon">
                      <span class="glyphicon glyphicon-lock"></span>
                    </span>
                    <input ng-model="pw.pw" type="password" class="form-control" placeholder="암호">
                </div>
                <div class="form-group input-group">
                    <span class="input-group-addon">
                      <span class="glyphicon glyphicon-lock"></span>
                    </span>
                    <input ng-model="pw.pw_ok" type="password" class="form-control" placeholder="암호 확인">
                </div>
                <div class="form-group">
                    <button class="btn btn-warning btn-lg btn-block" ng-click="updatePassword(pw)">암호 변경</button>
                </div>
            </form>
            <div id="password_update_alert" class="alert hidden" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            </div>

            <form id="update_profile" name="update_profile" enctype="multipart/form-data" method="post" class="form center-block">
                <div class="form-group input-group">
                    <label>사진 변경</label>
                    <input name="image" type="file" id="file-3">
                </div>
                <div class="form-group input-group">
                    <span class="input-group-addon">
                      <span class="glyphicon glyphicon-tag"></span>
                    </span>
                    <input name="name" type="text" placeholder="이름" class="form-control" ng-model="user.name">
                </div>
                <div class="form-group input-group">
                    <span class="input-group-addon">
                      <span class="glyphicon glyphicon-phone"></span>
                    </span>
                    <input name="phone" type="text" placeholder="폰 번호" class="form-control" ng-model="user.phone"
                           required="">
                </div>
                <div class="form-group input-group">
                    <span class="input-group-addon">
                      <span class="glyphicon glyphicon-envelope"></span>
                    </span>
                    <input name="email" type="email" placeholder="이메일" class="form-control" ng-model="user.email"
                           required="">
                </div>
                <div class="form-group">
                    <button class="btn btn-primary btn-lg btn-block" type="submit" ng-click="updateProfile()">프로필 수정</button>
                </div>
            </form>
            <div role="alert"
                 ng-class="(alertProfile.flag==='success') ? 'alert alert-success' :
                            (alertProfile.flag==='danger') ? 'alert alert-danger' : 'hidden'">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> {{alertProfile.text}}
            </div>
        </div>
    </div>
</div>